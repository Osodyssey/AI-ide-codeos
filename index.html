<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini VSCode-like IDE with Tailwind (RTL)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Tailwind config: dark mode and custom font stack
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            panel: '#0f1724',
            panel-2: '#0b1220',
            accent: '#06b6d4',
            accent-2: '#0ea5e9',
            codebg: '#0b1220'
          },
          fontFamily: {
            sans: ['Vazirmatn', 'Tahoma', 'system-ui', 'sans-serif']
          }
        }
      }
    }
  </script>
  <style>
    /* load a Persian friendly font if available (optional) */
    @font-face{font-family:Vazirmatn;src:local('Vazirmatn'), local('Vazirmatn-Regular');}
    html,body,#app{height:100%}
    /* Monaco container full height handling */
    #editor { height: 100%; }
    /* small scrollbar polish */
    ::-webkit-scrollbar{height:8px;width:8px}
    ::-webkit-scrollbar-thumb{background:#1f2937;border-radius:8px}
  </style>
</head>
<body class="h-full bg-gradient-to-b from-panel to-panel-2 text-slate-100 font-sans">
  <div id="app" class="h-full flex flex-col">
    <!-- Topbar -->
    <header class="h-14 flex items-center gap-3 px-4 shadow-sm bg-gradient-to-r from-[#071025] to-[#061321]">
      <div class="flex items-center gap-2">
        <button id="btn-menu" class="p-2 rounded-md hover:bg-white/5 transition"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6h16M4 12h16M4 18h16"/></svg></button>
        <div class="text-sm font-semibold">Mini IDE</div>
        <span class="text-xs text-slate-400 mr-2">قابل اجرا در هاست PHP — Tailwind نسخه زیبا</span>
      </div>

      <div class="flex-1 mx-4">
        <input id="cmd" placeholder="Command Palette — تایپ و Enter (مثال: format, save)" class="w-full rounded-md bg-slate-800 placeholder:text-slate-400 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent/60" />
      </div>

      <div class="flex items-center gap-3">
        <div id="status" class="text-xs text-slate-400">آماده</div>
        <button id="btn-theme" class="p-2 rounded-md hover:bg-white/5">🌗</button>
      </div>
    </header>

    <!-- Main layout -->
    <main class="flex-1 flex overflow-hidden">
      <!-- Left: Files & Config -->
      <aside class="w-64 bg-slate-900/50 border-l border-slate-800 p-4 flex flex-col gap-4 overflow-auto">
        <div class="flex items-center justify-between">
          <h3 class="text-sm font-semibold">فایل‌ها</h3>
          <div class="flex gap-2">
            <button id="btn-new-file" class="text-xs px-2 py-1 rounded-md bg-slate-800 hover:bg-slate-700">فایل جدید</button>
            <button id="btn-save" class="text-xs px-2 py-1 rounded-md bg-emerald-600 hover:bg-emerald-500">ذخیره</button>
          </div>
        </div>

        <div id="file-list" class="flex-1 overflow-auto space-y-1 pr-1"></div>

        <div class="pt-2 border-t border-slate-800">
          <h4 class="text-xs text-slate-300 mb-2">پیکربندی Chat</h4>
          <input id="api-endpoint" placeholder="https://example.com/chat-api" class="w-full text-sm bg-slate-800 rounded-md px-3 py-2 mb-2" />
          <input id="api-key" placeholder="API Key (اختیاری)" class="w-full text-sm bg-slate-800 rounded-md px-3 py-2 mb-2" />
          <div class="flex gap-2">
            <button id="btn-save-config" class="flex-1 text-sm px-2 py-2 rounded-md bg-sky-600 hover:bg-sky-500">ذخیره تنظیمات</button>
            <button id="btn-list-server" class="text-sm px-2 py-2 rounded-md bg-slate-700 hover:bg-slate-600">فایل‌های سرور</button>
          </div>
        </div>
      </aside>

      <!-- Center: Editor -->
      <section class="flex-1 flex flex-col bg-[linear-gradient(180deg,#071425,_#071525)]">
        <div class="flex items-center gap-2 px-3 py-2 border-b border-slate-800">
          <div id="tabs" class="flex gap-1 overflow-auto"></div>
          <div class="flex-1"></div>
          <div class="text-xs text-slate-400 mr-2">فایل فعلی: <span id="current-file" class="font-medium">-</span></div>
        </div>
        <div id="editor" class="flex-1 bg-codebg"></div>
      </section>

      <!-- Right: Chat & Console -->
      <aside class="w-96 bg-gradient-to-t from-[#071018] to-[#081220] border-r border-slate-800 p-4 flex flex-col gap-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-2">
            <h3 class="text-sm font-semibold">چت بات</h3>
            <span class="text-xs text-slate-400">(شبیه‌سازی / اتصال اختیاری)</span>
          </div>
          <div class="flex gap-2">
            <button id="btn-clear-chat" class="text-xs px-2 py-1 rounded-md bg-slate-800">پاکسازی</button>
            <button id="btn-send-test" class="text-xs px-2 py-1 rounded-md bg-indigo-600">تست</button>
          </div>
        </div>

        <div id="chat-history" class="flex-1 overflow-auto space-y-3 pr-1"></div>

        <div class="flex gap-2">
          <input id="chat-input" placeholder="پیام خود را وارد کنید..." class="flex-1 rounded-md bg-slate-800 px-3 py-2 text-sm" />
          <button id="chat-send" class="px-3 py-2 rounded-md bg-accent hover:bg-accent-2 text-black font-medium">ارسال</button>
        </div>

        <div class="text-xs text-slate-400">پاسخ‌ها فعلاً شبیه‌سازی می‌شوند مگر endpoint تنظیم شود.</div>
      </aside>
    </main>

    <!-- Footer tiny -->
    <footer class="h-8 text-xs text-slate-400 flex items-center justify-between px-4 border-t border-slate-800">
      <div>Mini IDE — طراحی شده با ♥ توسط شما</div>
      <div id="autosave" class="opacity-80">Autosave: On</div>
    </footer>
  </div>

  <!-- Monaco loader -->
  <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.41.0/min/vs/loader.js"></script> 
  <script src="app.js"></script>





</body>
</html>
